html
	head
		link(rel="stylesheet", href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.96.1/css/materialize.min.css" type="text/css")
		style.
			body {
				height: 1020px;
				width: 1980px;
				overflow-x: hidden;
			}

			#filter {
				border-right: solid black thin;
				position: fixed;
				z-index: 100;
				background-color: white;
			}

			#filter button {
				margin-left: auto; 
				margin-right: auto;
			}

			#results {
				margin-left: 10%;
				margin-top: 0%;
				padding: 0px;
			}

			.full {
				height: 100%;
				width: 100%;
				max-width: 100%;
				max-height: 100%;

			}
			.full-width {
				height: auto;
				width: 100%;
			}
			.full-height {
				height: 100%;
				width: auto;
			}
			.padding-sm {
				padding-left: 10%;
			}

			#results {
				overflow-y: scroll;
				width: 55%;
			}

			#results-wrapper {
				padding: 25px;
			}
	body
		.row
			#filter(class="col l2 full-height z-depth-2")
				.row(class="white")
					.input-field
						input(id="search" placeholder="Movie, Genre, Tag, Name" type="text")
				.row
					#typeRadio.padding-sm
						p
							input(name="groupType" type="radio")
							label Movie
						p
							input(name="groupType" type="radio")
							label Actor
						p
							input(name="groupType" type="radio")
							label Director
						p
							input(name="groupType" type="radio")
							label Genre
						p
							input(name="groupType" type="radio")
							label Tag
				.row
					button.btn Top 20 Movies
				.row
					button.btn Top 20 Actors
				.row
					button.btn Top 20 Directors

			#results(class="col l10 white full-height")
				#results-wrapper
					.row
						div(class="col l3")
							.card.z-depth-2
								.card-image
									img.responsive-image.activator(src="http://content7.flixster.com/movie/10/93/63/10936393_det.jpg" )
								.card-content
									div(class="col l6" style="border-right: solid thin #DDDDDD;")
										h4.center-align 95%
									div(class="col l6")
										h4.center-align 43%
								.card-reveal
									.row
										span(class="card-title grey-text text-darken-4") Toy Story 
									.row
										span Year: 1998
									.row
										span RT Score: 95%

	script(src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js")
	script(src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.96.1/js/materialize.min.js")
	script.
		$('#search').keydown(function(e){
			if(e.keyCode === 13)
			{
				console.log('/api/get_movie?title=' + $('#search').val().replace(/ /g,"+"));
				$('#results').empty();
				$.get('/api/top_movies' , function(data){
					var toAppend = '';
					for(var i = 0; i < data.length; i++)
					{
						toAppend += '<div class="col l3">' +
										'<div class="card z-depth-2">' +
											'<div class="card-image">' +
												'<img src="'+ data[i].image_url_imdb +'" class="responsive-image activator">' +
											'</div>' +
											'<div class="card-content">' +
												'<div class="col l6" style="border-right: solid thin #DDDDDD;">' +
													'<h4 class="center-align">'+ data[i].rt_audience_score +'</h4>' +
												'</div>' +
												'<div class="col l6">' +
													'<h4 class="center-align">'+ 0% +'</h4>' +
												'</div>' +
											'</div>' +
											'<div class="card-reveal">' +
												'<div class="row">' +
													'<span class="card-title grey-text text-darken-4">Year'+ data[i].title_english+'</span>' +
												'</div>' +
												'<div class="row">' +
													'<span>Year: '+ data[i].year +'</span>' +
												'</div>' +
												'<div class="row">' +
													'<span>RT Score: '+ data[i].rt_audience_score +'</span>' +
												'</div>' +
											'</div>' +
										'</div>' +
									'</div>';
					}
					$('#results').append(toAppend);
				});
			}
		});
